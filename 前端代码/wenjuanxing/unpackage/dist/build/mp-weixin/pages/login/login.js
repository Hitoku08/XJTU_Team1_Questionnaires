"use strict";const e=require("../../common/vendor.js"),s=require("../../common/buffer.js"),t={data:()=>({userId:"",password:""}),methods:{login(){console.log({user_id:parseInt(this.userId),password:this.password}),e.index.request({url:s.buffer.serverIp+"/user/login",method:"POST",data:{user_id:parseInt(this.userId),password:this.password},success:t=>{console.log(t.data),500!==t.data.status||void 0!==t.data.data?500!==t.data.status?200===t.data.status&&(s.buffer.userId=this.userId,e.index.showToast({title:"欢迎用户"+t.data.data.username+"登录！",icon:"none"}),setTimeout((()=>{e.index.redirectTo({url:"/pages/index/index"})}),1e3)):e.index.showToast({title:t.data.msg,icon:"none"}):e.index.showToast({title:"连接有问题！",icon:"none"})},fail:e=>{console.log(e.data)}})},register(){e.index.navigateTo({url:"/pages/register/register"})}}};const r=e._export_sfc(t,[["render",function(s,t,r,a,o,d){return{a:o.userId,b:e.o((e=>o.userId=e.detail.value)),c:o.password,d:e.o((e=>o.password=e.detail.value)),e:e.o(((...e)=>d.login&&d.login(...e))),f:e.o(((...e)=>d.register&&d.register(...e)))}}]]);wx.createPage(r);
